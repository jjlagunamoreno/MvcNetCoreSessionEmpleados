@model List<Empleado>

@{
    // RECUPERAMOS LOS IDS DE EMPLEADOS ALMACENADOS EN SESSION
    List<int> ids = Context.Session.GetObject<List<int>>("IDSEMPLEADOS");
}

<h1 style="color:blue">Session Empleados V5</h1>

<p>
    <a asp-controller="Empleados"
       asp-action="EmpleadosAlmacenadosV5">
        Empleados Almacenados V5
    </a>
</p>

<h4>@ViewData["MENSAJE"]</h4>

<ul class="list-group">
    @foreach (Empleado empleado in Model)
    {
        <li class="list-group-item list-group-item-info">
            @empleado.Apellido

            @* PREGUNTAMOS SI EL EMPLEADO ESTÁ EN SESSION *@
            @if (ids != null && ids.Contains(empleado.IdEmpleado))
            {
                // SI EL EMPLEADO ESTÁ EN SESSION, MOSTRAMOS LA IMAGEN
                <img src="~/images/ok.png" style="width:35px; height: 35px" />
            }
            else
            {
                // SI NO ESTÁ EN SESSION, MOSTRAMOS EL ENLACE PARA AGREGARLO
                <a asp-controller="Empleados"
                   asp-action="SessionEmpleadosV5"
                   asp-route-idempleado="@empleado.IdEmpleado">
                    Almacenar empleado
                </a>
            }
        </li>
    }
</ul>
